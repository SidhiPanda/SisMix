SET IGNORECASE TRUE;
create memory table T_AUTHENTICATION_TOKEN ( AUT_ID_C varchar(36) not null, AUT_IDUSER_C varchar(36) not null, AUT_LONGLASTED_B bit not null, AUT_CREATIONDATE_D datetime not null, AUT_LASTCONNECTIONDATE_D datetime, primary key (AUT_ID_C) );
create memory table T_BASE_FUNCTION ( BAF_ID_C varchar(20) not null, primary key (BAF_ID_C) );
create memory table T_CONFIG ( CFG_ID_C varchar(50) not null, CFG_VALUE_C varchar(250) not null, primary key (CFG_ID_C) );
create memory table T_LOCALE ( LOC_ID_C varchar(10) not null, primary key (LOC_ID_C) );
create memory table T_USER ( USE_ID_C varchar(36) not null, USE_IDLOCALE_C varchar(10) not null, USE_IDROLE_C varchar(36) not null, USE_USERNAME_C varchar(50) not null, USE_PASSWORD_C varchar(60) not null, USE_EMAIL_C varchar(100) not null, USE_THEME_C varchar(100) not null, USE_FIRSTCONNECTION_B bit not null, USE_CREATEDATE_D datetime not null, USE_DELETEDATE_D datetime, primary key (USE_ID_C) );
create memory table T_ROLE ( ROL_ID_C varchar(36) not null, ROL_NAME_C varchar(36) not null, ROL_CREATEDATE_D datetime not null, ROL_DELETEDATE_D datetime, primary key (ROL_ID_C) );
create memory table T_ROLE_BASE_FUNCTION ( RBF_ID_C varchar(36) not null, RBF_IDROLE_C varchar(36) not null, RBF_IDBASEFUNCTION_C varchar(20) not null, RBF_CREATEDATE_D datetime not null, RBF_DELETEDATE_D datetime, primary key (RBF_ID_C) );
create cached table T_BOOK ( BOK_ID_C varchar(36) not null, BOK_TITLE_C varchar(255) not null, BOK_SUBTITLE_C varchar(255), BOK_AUTHOR_C varchar(255) not null, BOK_DESCRIPTION_C varchar(4000), BOK_ISBN10_C varchar(10), BOK_ISBN13_C varchar(13), BOK_PAGECOUNT_N integer, BOK_LANGUAGE_C varchar(2), BOK_PUBLISHDATE_D datetime, primary key (BOK_ID_C) );
create cached table T_AUDIOBOOK ( AUDBOK_ID_C varchar(36) not null, AUDBOK_TITLE_C varchar(255) not null, AUDBOK_AUTHOR_C varchar(255) not null, AUDBOK_AUTHOR_ID_C varchar(128), AUDBOK_NARRATOR_C varchar(255), AUDBOK_DESCRIPTION_C varchar(4000), AUDBOK_EXP_C varchar(100), AUDBOK_GEN_C varchar(100), AUDBOK_LANGUAGE_C varchar(100), AUDBOK_RELEASEDATE_D varchar(100), AUDBOK_COVERURl_C varchar(2048) , primary key (AUDBOK_ID_C) );
create cached table T_PODCAST ( POD_ID_C varchar(36) not null, POD_TITLE_C varchar(255) not null, POD_HOST_C varchar(255) not null, POD_HOST_ID_C varchar(128), POD_DESCRIPTION_C varchar(4000), POD_EXP_C varchar(100), POD_GEN_C varchar(100), POD_LANGUAGE_C varchar(100), POD_RELEASEDATE_D varchar(100), POD_TRACKS_C integer, POD_COVERURl_C varchar(2048) , primary key (POD_ID_C) );
CREATE CACHED TABLE L_BOOK (L_BOOK_ID VARCHAR(36) PRIMARY KEY not null, L_BOOK_T VARCHAR(256) not null, L_BOOK_AUTH VARCHAR(2048) not null, L_BOOK_G VARCHAR(2048) not null, L_BOOK_R FLOAT not null, L_BOOK_NR INT not null, L_BOOK_THUMB VARCHAR(2048) not null);
create cached table L_BOOK_RATING (L_BOOK_R_ID VARCHAR(36) PRIMARY KEY not null, L_BOOK_ID VARCHAR(36) not null, L_USER_ID VARCHAR(36) not null, L_BOOK_R FLOAT not null);
create cached table T_USER_BOOK ( UBK_ID_C varchar(36) not null, UBK_IDBOOK_C varchar(36) not null, UBK_IDUSER_C varchar(36) not null, UBK_CREATEDATE_D datetime not null, UBK_DELETEDATE_D datetime, UBK_READDATE_D datetime, primary key (UBK_ID_C) );
create cached table T_USER_PODCAST ( UPOD_ID_C varchar(36) not null, UPOD_IDPOD_C varchar(36) not null, UPOD_IDUSER_C varchar(36) not null,  primary key (UPOD_ID_C) );
create cached table T_USER_AUDIOBOOK ( UAB_ID_C varchar(36) not null, UAB_IDAB_C varchar(36) not null, UAB_IDUSER_C varchar(36) not null,  primary key (UAB_ID_C) );
create cached table T_TAG ( TAG_ID_C varchar(36) not null, TAG_IDUSER_C varchar(36) not null, TAG_NAME_C varchar(36) not null, TAG_COLOR_C varchar(7) default '#3a87ad' not null, TAG_CREATEDATE_D datetime, TAG_DELETEDATE_D datetime, primary key (TAG_ID_C) );
create cached table T_USER_BOOK_TAG ( BOT_ID_C varchar(36) not null, BOT_IDUSERBOOK_C varchar(36) not null, BOT_IDTAG_C varchar(36) not null, primary key (BOT_ID_C) );
alter table T_AUTHENTICATION_TOKEN add constraint FK_AUT_IDUSER_C foreign key (AUT_IDUSER_C) references T_USER (USE_ID_C) on delete restrict on update restrict;
alter table T_USER add constraint FK_USE_IDLOCALE_C foreign key (USE_IDLOCALE_C) references T_LOCALE (LOC_ID_C) on delete restrict on update restrict;
alter table T_USER add constraint FK_USE_IDROLE_C foreign key (USE_IDROLE_C) references T_ROLE (ROL_ID_C) on delete restrict on update restrict;
alter table T_ROLE_BASE_FUNCTION add constraint FK_RBF_IDROLE_C foreign key (RBF_IDROLE_C) references T_ROLE (ROL_ID_C) on delete restrict on update restrict;
alter table T_ROLE_BASE_FUNCTION add constraint FK_RBF_IDBASEFUNCTION_C foreign key (RBF_IDBASEFUNCTION_C) references T_BASE_FUNCTION (BAF_ID_C) on delete restrict on update restrict;
alter table T_USER_BOOK add constraint FK_UBK_IDBOOK_C foreign key (UBK_IDBOOK_C) references T_BOOK (BOK_ID_C) on delete restrict on update restrict;
alter table T_USER_BOOK add constraint FK_UBK_IDUSER_C foreign key (UBK_IDUSER_C) references T_USER (USE_ID_C) on delete restrict on update restrict;
alter table L_BOOK add constraint FK_L_BOOK_ID foreign key (L_BOOK_ID) references T_BOOK (BOK_ID_C) on delete restrict on update restrict;
alter table L_BOOK_RATING add constraint FK_LR_BOOK_ID foreign key (L_BOOK_ID) references T_BOOK (BOK_ID_C) on delete restrict on update restrict;
alter table L_BOOK_RATING add constraint FK_LR_USER_ID foreign key (L_USER_ID) references T_USER (USE_ID_C) on delete restrict on update restrict;
alter table T_TAG add constraint FK_TAG_IDUSER_C foreign key (TAG_IDUSER_C) references T_USER (USE_ID_C) on delete restrict on update restrict;
alter table T_USER_BOOK_TAG add constraint FK_BOT_IDUSERBOOK_C foreign key (BOT_IDUSERBOOK_C) references T_USER_BOOK (UBK_ID_C) on delete restrict on update restrict;
alter table T_USER_BOOK_TAG add constraint FK_BOT_IDTAG_C foreign key (BOT_IDTAG_C) references T_TAG (TAG_ID_C) on delete restrict on update restrict;
insert into T_CONFIG(CFG_ID_C, CFG_VALUE_C) values('DB_VERSION', '0');
insert into T_CONFIG(CFG_ID_C, CFG_VALUE_C) values('API_KEY_GOOGLE', '');
insert into T_BASE_FUNCTION(BAF_ID_C) values('ADMIN');
insert into T_LOCALE(LOC_ID_C) values('en');
insert into T_LOCALE(LOC_ID_C) values('fr');
insert into T_ROLE(ROL_ID_C, ROL_NAME_C, ROL_CREATEDATE_D) values('admin', 'Admin', NOW());
insert into T_ROLE(ROL_ID_C, ROL_NAME_C, ROL_CREATEDATE_D) values('user', 'User', NOW());
insert into T_ROLE_BASE_FUNCTION(RBF_ID_C, RBF_IDROLE_C, RBF_IDBASEFUNCTION_C, RBF_CREATEDATE_D) values('admin_ADMIN', 'admin', 'ADMIN', NOW());
insert into T_USER(USE_ID_C, USE_IDLOCALE_C, USE_IDROLE_C, USE_USERNAME_C, USE_PASSWORD_C, USE_EMAIL_C, USE_THEME_C, USE_FIRSTCONNECTION_B, USE_CREATEDATE_D) values('admin', 'en', 'admin', 'admin', '$2a$05$6Ny3TjrW3aVAL1or2SlcR.fhuDgPKp5jp.P9fBXwVNePgeLqb4i3C', 'admin@localhost', 'default.less', true, NOW());
-- insert into T_BOOK(BOK_ID_C, BOK_TITLE_C, BOK_AUTHOR_C) values('1', 'The Hobbit', 'J.R.R. Tolkien');
-- insert into T_BOOK(BOK_ID_C, BOK_TITLE_C, BOK_AUTHOR_C) values('2', 'The Lord of the Rings', 'J.R.R. Tolkien');
-- insert into T_BOOK(BOK_ID_C, BOK_TITLE_C, BOK_AUTHOR_C) values('3', 'The Silmarillion', 'J.R.R. Tolkien');
-- insert into T_BOOK(BOK_ID_C, BOK_TITLE_C, BOK_AUTHOR_C) values('4', 'The Children of Húrin', 'J.R.R. Tolkien');
-- insert into L_BOOK(L_BOOK_ID, L_BOOK_T, L_BOOK_AUTH, L_BOOK_G, L_BOOK_R, L_BOOK_NR, L_BOOK_THUMB) values('1', 'The Hobbit', 'J.R.R. Tolkien', 'Fantasy', 4.5, 295, 'https://books.google.com/books/content?id=3H4jDwAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api');
-- insert into L_BOOK(L_BOOK_ID, L_BOOK_T, L_BOOK_AUTH, L_BOOK_G, L_BOOK_R, L_BOOK_NR, L_BOOK_THUMB) values('2', 'The Lord of the Rings', 'J.R.R. Tolkien', 'Fantasy', 4.5, 1216, 'https://books.google.com/books/content?id=3H4jDwAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api');
-- insert into L_BOOK(L_BOOK_ID, L_BOOK_T, L_BOOK_AUTH, L_BOOK_G, L_BOOK_R, L_BOOK_NR, L_BOOK_THUMB) values('3', 'The Silmarillion', 'J.R.R. Tolkien', 'Fantasy', 4.5, 365, 'https://books.google.com/books/content?id=3H4jDwAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api');
-- insert into L_BOOK(L_BOOK_ID, L_BOOK_T, L_BOOK_AUTH, L_BOOK_G, L_BOOK_R, L_BOOK_NR, L_BOOK_THUMB) values('4', 'The Children of Húrin', 'J.R.R. Tolkien', 'Fantasy', 4.5, 320, 'https://books.google.com/books/content?id=3H4jDwAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api');